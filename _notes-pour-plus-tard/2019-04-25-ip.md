---
layout: post
title: "ip, commande de configuration du réseau sur GNU/Linux"
date: 2019-04-25 16:54:00
description: ip, commande de configuration du réseau sur GNU/Linux
category: 'notes pour plus tard'
introduction: ''
collection: notes
permalink: /notes-pour-plus-tard/ip-commande-de-configuration-du-reseau-sur-GNULinux/
tags:
- notes pour plus tard
- IPv4
- IPv6
- route
- ip
- réseau
---

## Notes sur la commande ip

### Introduction
Les commandes historiques de configuration du réseau _ifconfig_ et _route_ sont _outdated_ : ils ne faut plus les utiliser. Elles ont disparu (ou vont disparaître) des distributions GNU/Linux. Il faut maintenant utiliser leurs remplaçantes. Je note ici les cas d'utilisation et les exemples.

### Ethernet
#### Voir
Pour voir la configuration des liens :
``` bash
cedric@portable:~ ip link
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 18:03:73:3a:56:7f brd ff:ff:ff:ff:ff:ff
cedric@portable:~ ip link show
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 18:03:73:3a:56:7f brd ff:ff:ff:ff:ff:ff
cedric@portable:~ ip link show dev eno1
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 18:03:73:3a:56:7f brd ff:ff:ff:ff:ff:ff
# voir les interfaces up seulement
cedric@portable:~ ip link show up
# voir les interfaces down seulement : pas possible /o\
```
#### Changer le MTU d'une interface
``` bash
# changer le MTU d'une interface (ici : interface lo)
cedric@portable:~ ip link set dev lo mtu 1000
```


### IPv4
#### Consulter les informations sur les interfaces IPv4
``` bash
cedric@portable:~ ip -4 addr
# ou équivalent :
cedric@portable:~ ip -4 addr show
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
2: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    inet 129.102.242.67/25 brd 129.102.242.127 scope global dynamic eno1
       valid_lft 592sec preferred_lft 592sec
# pour ne voir qu'une seule interface
cedric@portable:~ ip -4 addr show dev eno1
2: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    inet 129.102.242.67/25 brd 129.102.242.127 scope global dynamic eno1
       valid_lft 535sec preferred_lft 535sec

```
