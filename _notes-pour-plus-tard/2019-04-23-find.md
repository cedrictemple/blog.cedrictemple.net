---
layout: post
title: "find, recherche de fichiers"
date: 2019-04-23 07:48:00
description: find, recherche de fichiers
category: 'notes pour plus tard'
introduction: ''
collection: notes
permalink: /notes-pour-plus-tard/find-recherche-de-fichiers/
tags:
- notes pour plus tard
- find
---

## Notes sur find

### Ordre des paramètres
``` bash
find <mondossier> <mesoptionsderecherche>
# exemple
find /home/cedric -type d
```

### Trouver des types de fichiers
``` bash
# dossier
find /home/cedric -type d
# fichier
find /home/cedric -type f
# pipe / fifo
find /home/cedric -type p
# lien symbolique
find /home/cedric -type l
```

### Les éléments modifiés il y a plus de N...
``` bash
# datas modifiées depuis plus de 3 jours
find /home/cedric -mtime +3
# datas modifiées depuis plus de 30 minutes
find /home/cedric -mmin +30
# datas modifiées depuis moins de 3 jours
find /home/cedric -mtime -3
# datas modifiées depuis moins de 30 minutes
find /home/cedric -mmin -30
```

### Gestion de la profondeur de recherche
Find permet de ne pas rechercher dans toute la profondeur de l'arborescence, il peut ne parcourir que le niveau souhaité :
``` bash
# n'afficher que les fichiers et dossiers dans ce dossier, ne pas afficher les sous-dossiers :
find /home/cedric -maxdepth 1
# n'afficher que les fichiers et dossiers que dans ce dossier et le sous-dossier de ceux-ci :
find /home/cedric -maxdepth 2
# n'afficher que les dossiers du répertoire courant :
find /home/cedric -maxdepth 1 -type d
```

### Rechercher un nom
Il y a beaucoup d'options pour faire des recherches avec find. Je ne liste que les cas que j'utilise régulièrement ici. En cas de besoin, regarder la page de man.
``` bash
# trouver un élément dont le nom commence par 'tmp.' 
find /tmp/ -name 'tmp.*'
# trouver un élément dont le nom commence par un premier caractère, n'importe lequel, suivi de mp suivi d'un point suivi de n'importe quoi
find /tmp/ -name '?mp.*'
```

### Rechercher élément appartenant à un owner ou à un groupe
``` bash
# trouver tous les dossiers appartenant à root :
find /home/cedric -type d -user root
find /home/cedric -type d -user 0
find /home/cedric -type d -uid 0
# ATTENTION : ceci NE marche PAS (uid attend un paramètre numérique pas le nom de l'utilisateur)
find /home/cedric -type d -uid root

# trouver tous les dossiers appartenant au groupe root :
find /home/cedric -type d -group root
find /home/cedric -type d -group 0
find /home/cedric -type d -guid 0
# ATTENTION : ceci NE marche PAS (guid attend un paramètre numérique pas le nom de l'utilisateur)
find /home/cedric -type d -guid root
```
